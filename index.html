<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>maria isolina cozzani — portfolio</title>
  <meta name="description" content="Violinist, composer-performer, multimedia artist. Works, bio, where, contact." />
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&family=Sniglet:wght@800&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Source+Sans+3:wght@400;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --txt:#0a0a0d; --bg:#ffffff; --muted:#5a5f66; --accent:#7ed321;
      --max:980px; --radius:8px; --border:#e6e7ea;
      --font-base:'Space Grotesk', ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
      --font-heading: var(--font-base);
      --font-frutiger: 'Source Sans 3', ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
      --brand-pink:#ff4fd8; --pink-glow: rgba(255,79,216,.55); --pink-glow-strong: rgba(255,79,216,.75);
    }
    html{box-sizing:border-box; scroll-behavior:smooth}
    *,*::before,*::after{box-sizing:inherit}
    body{margin:0; color:var(--txt); background:var(--bg); font:16px/1.7 var(--font-base); text-rendering:optimizeLegibility}
    a{color:var(--accent); text-decoration:none}

    .wrap{position:relative; z-index:1; max-width:var(--max); margin-left:18px; margin-right:auto; padding:28px 18px}
    header{margin:8px 0 18px}
    h1{font-family:var(--font-heading); font-size:28px; font-weight:700; letter-spacing:0.02em; margin:0 0 6px; color:var(--accent)}
    nav{margin:14px 0 26px; font-family:var(--font-heading); letter-spacing:0.01em; font-weight:600}
    nav a{margin:0 10px 0 0; white-space:nowrap; position:relative; color:var(--brand-pink); transition:color .25s ease, text-shadow .25s ease}
    nav a::after{content:""; position:absolute; left:0; bottom:-2px; height:2px; width:100%; background:var(--brand-pink); transform:scaleX(0); transform-origin:left; transition:transform .25s ease}
    nav a:hover::after{transform:scaleX(1)}
    nav a:hover{color:var(--brand-pink); text-shadow:0 0 8px var(--pink-glow), 0 0 18px var(--pink-glow-strong)}

    main, #work-detail, #works, #bio, #where, #contact{font-family:var(--font-frutiger)}
    main h2, main h3, #work-detail h3, .thumb .t{font-family:var(--font-frutiger); letter-spacing:0.005em}
    main section{margin:38px 0}
    h2{font-family:var(--font-heading); font-size:18px; margin:0 0 12px; color:var(--accent); letter-spacing:0.02em}
    h3{font-family:var(--font-heading); font-size:16px; margin:0 0 8px; color:var(--txt); letter-spacing:0.02em}
    .muted{color:var(--muted)}
    .sr-only{position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0}

    .card{padding:16px; border-radius:8px; background:#fff; border:1px solid var(--border)}
    .card:hover{border-color:#c8c9cc}

    /* Gallery (works thumbs) */
    #gallery{margin-top:6px}
    .thumbs{display:grid; grid-template-columns:repeat(2,1fr); gap:14px; justify-content:start; justify-items:stretch}
    @media (min-width:640px){ .thumbs{grid-template-columns:repeat(3,1fr)} }
    @media (min-width:980px){ .thumbs{grid-template-columns:repeat(4,1fr)} }

    .thumb{position:relative; display:block; border-radius:8px; overflow:hidden; background:#fff; border:1px solid var(--border); transition:transform .18s ease, border-color .18s ease, filter .18s ease}
    .thumb .poster{aspect-ratio:16/9; width:100%; object-fit:cover; display:block; filter:grayscale(.15) contrast(1.05)}
    .thumb .overlay{position:absolute; inset:auto 0 0 0; display:flex; align-items:center; justify-content:space-between; padding:8px 10px; background:linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0.55) 100%)}
    .thumb .t{font:600 12px/1.2 var(--font-heading); letter-spacing:0.01em; color:#eef2f3}
    .thumb .badge{font:600 10px/1 var(--font-base); padding:6px 8px; border-radius:6px; background:rgba(255,79,216,0.18); color:#fff; border:1px solid rgba(255,79,216,0.35)}
    .thumb .play{position:absolute; left:8px; top:8px; width:26px; height:26px; border-radius:6px; border:1px solid var(--brand-pink); display:grid; place-items:center; background:rgba(255,79,216,0.10)}
    .thumb .play:before{content:"▶"; font-size:11px; transform:translateX(1px)}
    .thumb:hover{transform:translateY(-2px) scale(1.005); border-color:var(--brand-pink); box-shadow:0 10px 26px rgba(255,79,216,.25),0 0 0 2px rgba(255,79,216,.20),0 0 28px rgba(255,79,216,.35)}
    .thumb:hover .poster{filter:grayscale(0) contrast(1.08) saturate(1.15)}
    .thumb:focus-visible{outline:2px solid var(--brand-pink); outline-offset:2px}
    .thumb:hover .t{ text-shadow:0 0 6px rgba(0,0,0,.35)}
    .thumb:hover .play{border-color:var(--brand-pink); background:rgba(255,79,216,.15); box-shadow:0 0 0 2px rgba(255,79,216,.18) inset}

    /* Detail view */
    body.is-detail main > section:not(#work-detail){display:none}
    #work-detail{margin-top:10px}
    #work-detail .back{display:inline-block; margin:6px 0 16px; font-size:13px; color:var(--muted)}
    #work-detail .back:hover{color:var(--txt)}
    .embed{position:relative; padding-top:56.25%; border-radius:var(--radius); overflow:hidden; border:1px solid var(--border); background:rgba(0,0,0,.03); margin:10px 0 14px}
    .embed iframe{position:absolute; inset:0; width:100%; height:100%; border:0}
    .detail-subtitle{font:600 14px/1.4 var(--font-heading); color:var(--muted); margin:12px 0 8px}

    /* Photo grid for detail */
    .grid-gallery{display:grid; gap:10px; grid-template-columns:repeat(2,1fr); margin-top:6px}
    @media (min-width:800px){ .grid-gallery{grid-template-columns:repeat(3,1fr)} }
    .grid-gallery img{width:100%; aspect-ratio:4/3; object-fit:cover; border-radius:8px; border:1px solid var(--border); display:block}

    /* Contact bubble */
    .mail-link{display:inline-flex; align-items:center; gap:10px; padding:10px 14px; border-radius:999px; border:1px solid var(--border); background:#fff; color:var(--txt); font-weight:600}
    .mail-link:hover{transform:translateY(-1px)}
    .icon-mail{width:18px; height:18px; fill:var(--accent); transition:transform .2s ease}

    footer{margin:44px 0 12px; font-size:13px; color:var(--muted)}

    /* Floating words (glossy pink) */
    #float-words{position:fixed; inset:0; z-index:0; pointer-events:none; overflow:hidden}
    .float-word{position:absolute; white-space:nowrap; font:800 clamp(18px,3.6vw,52px)/1 'Sniglet','Nunito',var(--font-heading); letter-spacing:.003em; will-change:transform; transform-origin:50% 50%;
      color:transparent; background:linear-gradient(180deg,#ffd9f4 0%,#ff9ce8 28%,#ff4fd8 55%,#ff38c9 72%,#ffd1f1 100%);
      -webkit-background-clip:text; background-clip:text; -webkit-text-stroke:.5px rgba(255,79,216,.25);
      text-shadow:0 1px 0 rgba(255,255,255,.75), 0 8px 16px rgba(255,79,216,.22), 0 0 28px rgba(255,79,216,.32);
    }
    .float-word::before,.float-word::after{content:""; position:absolute; left:-120%; top:-80%; width:38%; height:260%;
      background:linear-gradient(70deg,rgba(255,255,255,0) 45%,rgba(255,255,255,.95) 50%,rgba(255,255,255,0) 55%);
      mix-blend-mode:screen; pointer-events:none}
    .float-word::before{animation: glint-pink 7s linear infinite; animation-delay:-3s}
    .float-word::after{animation: glint-pink 9s linear infinite}
    @keyframes glint-pink{0%{transform:translateX(-160%) rotate(20deg)}100%{transform:translateX(260%) rotate(20deg)}}
    @media (prefers-reduced-motion: reduce){ #float-words{display:none} }

    :root{--font-juicy:'Fredoka','Source Sans 3',ui-sans-serif,system-ui,-apple-system,'Segoe UI',Roboto,Helvetica,Arial,sans-serif}
    #work-detail .card p, #work-detail .card li, #bio p, #bio li{font-family:var(--font-juicy); font-size:17px; line-height:1.8; letter-spacing:.005em}
    #work-detail .card p + p{margin-top:10px}

    /* Sparkles overlay */
    #sparkles{position:fixed; inset:0; pointer-events:none; z-index:2; mix-blend-mode:screen}
    #sparkles .sp{position:absolute; width:3px; height:3px; border-radius:50%;
      background:radial-gradient(circle, rgba(255,255,255,.95) 0 40%, rgba(255,255,255,0) 60%);
      filter: drop-shadow(0 0 9px rgba(255,79,216,.55)) drop-shadow(0 0 24px rgba(255,79,216,.35));
      opacity:0}
    @keyframes sparkleBlink{0%,100%{opacity:0}10%{opacity:1}50%{opacity:.35}90%{opacity:1}}
    @keyframes sparkleDrift{0%{transform:translate(0,0)}100%{transform:translate(var(--dx,0px), var(--dy,0px))}}
    @keyframes sparkleShine{0%,100%{filter:drop-shadow(0 0 9px rgba(255,79,216,.45)) drop-shadow(0 0 22px rgba(255,79,216,.30))}50%{filter:drop-shadow(0 0 14px rgba(255,79,216,.75)) drop-shadow(0 0 32px rgba(255,79,216,.50))}}
  </style>
</head>
<body>
  <div id="float-words" aria-hidden="true"></div>
  <div class="wrap">
    <header>
      <h1>maria isolina cozzani</h1>
      <nav aria-label="primary">
        <a href="#works">works</a>
        <a href="#bio">bio</a>
        <a href="#where">where</a>
        <a href="#contact">contact</a>
      </nav>
    </header>

    <main id="content" tabindex="-1">
      <section id="works" aria-label="works">
        <h2 class="sr-only">works</h2>
        <div class="gallery grid thumbs" id="thumbs"></div>
      </section>

      <section id="work-detail" class="work-detail" hidden></section>

      <section id="bio" hidden>
        <h2>bio</h2>
        <p><strong>Maria Isolina Cozzani</strong> (b. 1994, Ludwigsburg) is an Italian-German violinist, composer-performer and multimedia artist based in Cologne. Working at the edges of free improvisation, electro-acoustic performance and installation, she focuses on timbral extremes of the violin, spectral/granular resynthesis and spatial sound (4–8-channel and site-responsive setups). Her practice often integrates audio-reactive objects and upcycled technologies, assembling fragile yet vibrant ecosystems where sound, bodies and space co-shape one another.</p>
        <p>She trained in classical and jazz violin at the conservatories of La Spezia and Genoa and completed an MMus at ArtEZ University of the Arts (Arnhem, 2023) with research in free improvisation that culminated in <em>ISLN — Geography of sounds, shapeshifting multiplicities</em>. Recent and ongoing projects include the electroacoustic duo <em>O.P.M.L. — Our Past Microtonal Love</em> (with Matteo Traverso); the free-improv quintet <em>Inopia</em> (album <em>Exoplanet</em>, 2025); and the ensembles <em>Trio Lavish</em> (winners of the <em>Erasmus Jazz Prijs 2023</em>) and <em>Edera Trees</em>.</p>
        <p>Her music draws on microtonality, memory as layering/return, and a choreographic attention to gesture, instrument and space. She has appeared at Palazzo Ducale (Genoa), Museo Bagatti Valsecchi (Milan), MA/IN Matera Intermedia Festival (Matera), De Thomas (Amsterdam) and The Grey Space (The Hague).</p>
        <p>Alongside artistic work, Maria is active as an educator and as a project manager. In 2025 she coordinated the interdisciplinary project week <em>Connecting the Dots</em> at ArtEZ University of the Arts, leading planning and delivery for ~40 Master students across departments, guest-lecturer scheduling, rooming and documentation.</p>
        <p class="muted">Extended CV and photos available on request.</p>
      </section>

      <section id="where" hidden>
        <h2>where</h2>
        <ul>
          <li><strong>17 Jan 2026</strong> — Concert, Rathaussaal Xanten — tbc.</li>
          <li><strong>16 Jan 2026</strong> — Concert, Immanuelskirche Wuppertal — tbc.</li>
        </ul>
      </section>

      <section id="contact" hidden>
        <h2>contact</h2>
        <p>
          <a class="mail-link" href="mailto:mariacozzani@gmail.com" aria-label="email me at mariacozzani@gmail.com">
            <svg class="icon-mail" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
              <path d="M3 6.75A1.75 1.75 0 0 1 4.75 5h14.5A1.75 1.75 0 0 1 21 6.75v10.5A1.75 1.75 0 0 1 19.25 19H4.75A1.75 1.75 0 0 1 3 17.25V6.75Zm1.9.2 7.08 5.31c.13.1.31.1.44 0l7.08-5.31a.25.25 0 0 0-.15-.45H5.05a.25.25 0 0 0-.15.45Zm14.15 1.69-6.43 4.82a2.25 2.25 0 0 1-2.84 0L3.35 8.64v8.61c0 .14.11.25.25.25h16.8c.14 0 .25-.11.25-.25V8.64Z"></path>
            </svg>
            <span>mariacozzani@gmail.com</span>
          </a>
        </p>
      </section>

      <!-- DATA SOURCE FOR WORKS -->
      <section id="works-data" hidden>
        <article class="card" id="opml" data-title="Our Past Microtonal Love (O.P.M.L.)">
          <h3><em>Our Past Microtonal Love (O.P.M.L.)</em></h3>
          <p class="muted"><em>Find your future self in past lives</em></p>
          <p>O.P.M.L. is an electroacoustic duo based in Arnhem, Netherlands. The project is composed of Maria Isolina Cozzani on violin and Matteo Traverso on modular synthesizer. Together, their work spans site-based installations, audiovisual performances, and free or guided improvisation.</p>
          <p>They have performed at Palazzo Ducale (Genoa), Bagatti Valsecchi Museum (Milan), MA/IN Matera Intermedia Festival (Matera), de Thomas (Amsterdam), and The Grey Space (The Hague).</p>
          <p>Improvisation is central as a compositional tool; recurring elements include microtonality and memory as fragmented, reassembled time.</p>
        </article>

        <article class="card" id="what-is-left" data-title="what is left, what there grows" data-drive="1PxZBF0uUqdAcqpShlq9IUOrqWa6HcPv5" data-poster="assets/what-is-left-cover.jpg">
          <h3><em>what is left, what there grows</em> (2025)</h3>
          <p class="muted">Finalist at MA/IN Matera Intermedia Festival 2025.</p>
          <p>“what is left, what there grows” is a self-reactive environment with immersive multi-channel audio (4–8 ch), upcycled trash speakers, small robots, and obsolete technological remains. Over 90% of the installation is built from discarded or recycled materials, yet it offers an experience of vitality and ongoing transformation.</p>
          <p><strong>Media:</strong> <a href="https://drive.google.com/file/d/1PxZBF0uUqdAcqpShlq9IUOrqWa6HcPv5/preview" target="_blank" rel="noopener">Video (Drive)</a></p>
        </article>

        <!-- ART&MIDE with videos + gallery -->
        <article class="card" id="artemide"
                 data-title="Art&mide, Studio 1 — The evocation of Ἄρτεμις"
                 data-yt="INTPUDO6-Bg, arRRCQIwIKg"
                 data-gallery="assets/_ARC8804.jpg, assets/_ARC8813.jpg, assets/_ARC8821.jpg, assets/_ARC8826.jpg, assets/artemide_stablecam.00_08_33_23.Immagine001.png, assets/artmde_4%20(1).png">
          <h3><em>Art&mide, Studio 1 — The evocation of Ἄρτεμις</em> (2023)</h3>
          <p><em>art&mide</em> is an installation/performance by Maria Isolina Cozzani and Matteo Traverso. The current state includes an iterative audiovisual installation and a sound performance with generative and reactive video to movement/audio. The installation part (“art&mide golden age”) uses a particle-based generative video and granular recomposition of violin sounds.</p>
          <p>The performance “art&mide beginning/end of a cycle” is for violin, synthesizer and motion/audio-responsive video. The violinist’s movements generate the shape/colour of the core video, while the synthesizer sound corrupts it.</p>
        </article>

        <article class="card" id="steps-to-be-taken" data-title="Steps to be taken in case of death:" data-vimeo="372936733" data-yt="PyPbwN7ewlA">
          <h3><em>Steps to be taken in case of death:</em> (2019)</h3>
          <p>Audio-video installation by Cozzani & Traverso that simulates a surgical operation on a violin in an operating theater, exploring the coexistence of sound, gesture and image.</p>
          <p><strong>Links:</strong> <a href="https://vimeo.com/372936733" target="_blank" rel="noopener">Trailer (Vimeo)</a> · <a href="https://youtu.be/PyPbwN7ewlA" target="_blank" rel="noopener">Full performance</a></p>
        </article>

        <article class="card" id="studio-sul-plasma" data-title="Studio sul plasma" data-yt="o3UOTGCL5_Q">
          <h3><em>Studio sul plasma</em> (2019)</h3>
          <p>3D particle graphic audio-reactive system emulating plasma behaviour; scratched bow sounds are filtered and drive the visual particles.</p>
          <p><strong>Media:</strong> <a href="https://www.youtube.com/watch?v=o3UOTGCL5_Q&ab_channel=art%C3%A8r%C3%ACa" target="_blank" rel="noopener">YouTube</a></p>
        </article>

        <article class="card" id="locked-outputs" data-title="locked:outputs" data-yt="LB4l8T4fsDM">
          <h3><em>locked:outputs</em> (2020)</h3>
          <p>Explorative video game by Cozzani, Traverso and De Negri created during the 2020 lockdown, blending glitchy 3D models and audio tracks in a navigable space.</p>
          <p><strong>Gameplay:</strong> <a href="https://www.youtube.com/watch?v=LB4l8T4fsDM&t=147s" target="_blank" rel="noopener">YouTube</a></p>
        </article>
      </section>
    </main>

    <footer><p>© <span id="y"></span> Maria Isolina Cozzani</p></footer>
  </div>

  <script>
  'use strict';
  // Poster override for "artemide" so the thumb works even without files
  const POSTER_OVERRIDES = {
    artemide: 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/...truncated_for_brevity...' // (keep your existing long base64)
  };

  document.getElementById('y').textContent = new Date().getFullYear();

  const worksSection = document.querySelector('#works-data');
  const detail = document.querySelector('#work-detail');
  const thumbsWrap = document.getElementById('thumbs');

  function getYouTubeThumb(id){ return `https://img.youtube.com/vi/${id}/hqdefault.jpg`; }

  function buildThumb(article){
    const id = article.id; const title = article.dataset.title || id;
    let thumbURL = ''; let badge = '';

    if (typeof POSTER_OVERRIDES !== 'undefined' && POSTER_OVERRIDES[id]) thumbURL = POSTER_OVERRIDES[id];
    if(article.dataset.poster){
      try { thumbURL = new URL(article.dataset.poster, document.baseURI).href; }
      catch(e){ thumbURL = article.dataset.poster; }
    }
    if(article.dataset.yt){ thumbURL = thumbURL || getYouTubeThumb(article.dataset.yt.split(',')[0].trim()); badge = 'YouTube'; }
    else if(article.dataset.vimeo){ badge = 'Vimeo'; }
    else if(article.dataset.drive){ badge = 'Drive'; }

    const a = document.createElement('a');
    a.href = `#work/${id}`; a.className = 'thumb'; a.setAttribute('aria-label', title);

    if(thumbURL){
      const img = document.createElement('img');
      img.className = 'poster'; img.loading = 'lazy'; img.decoding = 'async'; img.alt = title;
      img.onerror = () => {
        if(article.dataset.yt){ img.src = getYouTubeThumb(article.dataset.yt.split(',')[0].trim()); }
        else { a.removeChild(img); const ph = document.createElement('div'); ph.className = 'poster'; ph.style.background='linear-gradient(135deg, rgba(0,0,0,.06), rgba(0,0,0,.02))'; a.insertBefore(ph,a.firstChild); }
      };
      img.src = thumbURL;
      a.appendChild(img);
    } else {
      const ph = document.createElement('div'); ph.className = 'poster'; ph.style.background='linear-gradient(135deg, rgba(0,0,0,.06), rgba(0,0,0,.02))';
      a.appendChild(ph);
    }

    const overlay = document.createElement('div'); overlay.className = 'overlay';
    const t = document.createElement('div'); t.className = 't'; t.textContent = title;
    const play = document.createElement('div'); play.className = 'play';
    const b = document.createElement('div'); b.className = 'badge'; b.textContent = badge || 'Media';
    overlay.appendChild(t); overlay.appendChild(b);
    a.appendChild(play); a.appendChild(overlay);
    return a;
  }

  function buildGallery(){
    thumbsWrap.innerHTML = '';
    if(!worksSection){ return; }
    const articles = worksSection.querySelectorAll('article');
    articles.forEach(a => thumbsWrap.appendChild(buildThumb(a)));
  }

  // NEW: multi-embed + gallery builders
  function createEmbedsFromDataset(ds){
    const nodes = [];
    const makeDiv = (url, title) => {
      const d = document.createElement('div'); d.className = 'embed';
      d.innerHTML = `<iframe src="${url}" title="${title || 'media'}" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen" allowfullscreen></iframe>`;
      nodes.push(d);
    };
    if(ds.yt){
      ds.yt.split(',').map(s=>s.trim()).filter(Boolean)
        .forEach(id => makeDiv(`https://www.youtube-nocookie.com/embed/${id}`, 'YouTube video'));
    }
    if(ds.vimeo){
      ds.vimeo.split(',').map(s=>s.trim()).filter(Boolean)
        .forEach(id => makeDiv(`https://player.vimeo.com/video/${id}?dnt=1&byline=0&portrait=0`, 'Vimeo video'));
    }
    if(ds.drive){
      ds.drive.split(',').map(s=>s.trim()).filter(Boolean)
        .forEach(id => makeDiv(`https://drive.google.com/file/d/${id}/preview`, 'Drive preview'));
    }
    return nodes;
  }

  function createGalleryFromDataset(ds){
    if(!ds.gallery) return null;
    const urls = ds.gallery.split(',').map(s=>s.trim()).filter(Boolean);
    if(!urls.length) return null;
    const wrap = document.createElement('div'); wrap.className='grid-gallery';
    urls.forEach(u=>{
      const img = document.createElement('img');
      img.loading='lazy'; img.decoding='async'; img.alt = (ds.title||'work')+' — photo';
      img.src = u;
      wrap.appendChild(img);
    });
    return wrap;
  }

  function showTop(section){
    const ids=['works','bio','where','contact'];
    ids.forEach(id=>{ const el=document.getElementById(id); if(el) el.hidden = (id!==section); });
    document.body.classList.remove('is-detail');
    const detailEl = document.getElementById('work-detail');
    if(detailEl){ detailEl.setAttribute('hidden',''); detailEl.innerHTML = ''; }
    if(section==='works'){ window.scrollTo(0,0); }
  }

  function showWork(slug){
    const article = document.getElementById(slug);
    if(!article){ showTop('works'); return; }
    document.body.classList.add('is-detail');
    const detailEl = document.getElementById('work-detail');
    detailEl.removeAttribute('hidden');
    const clone = article.cloneNode(true);

    // build detail in desired order: description first, then videos, then gallery
    detailEl.innerHTML = `<a href="#works" class="back">← all works</a>`;
    detailEl.appendChild(clone);

    const embs = createEmbedsFromDataset(article.dataset);
    if(embs.length){
      const h = document.createElement('div'); h.className='detail-subtitle'; h.textContent='video';
      detailEl.appendChild(h);
      embs.forEach(n => detailEl.appendChild(n));
    }

    const gal = createGalleryFromDataset(article.dataset);
    if(gal){
      const h2 = document.createElement('div'); h2.className='detail-subtitle'; h2.textContent='photos';
      detailEl.appendChild(h2);
      detailEl.appendChild(gal);
    }
    window.scrollTo(0,0);
  }

  function handleRoute(){
    const h = decodeURIComponent(location.hash || '#works');
    const m = h.match(/^#work\/(.+)$/);
    if(m){ showWork(m[1]); return; }
    const sec = h.replace('#','');
    if(['bio','where','contact','works'].includes(sec)){ showTop(sec); }
    else{ showTop('works'); }
  }

  function initNavInstant(){
    const navLinks = document.querySelectorAll('nav a[href^="#"]');
    navLinks.forEach(a=>{
      a.addEventListener('click',(e)=>{
        const target = a.getAttribute('href').slice(1);
        if(['bio','where','contact','works'].includes(target)){
          e.preventDefault();
          history.replaceState(null,'',`#${target}`);
          showTop(target);
        }
      });
    });
  }

  function initFloatWords(){
    const container = document.getElementById('float-words');
    if(!container) return;
    container.innerHTML = '';
    const words = ['violinist','composer\u2009-performer','multimedia artist'];
    const count = words.length;

    let floats = [];
    let bounds = {left:0,right:0,top:0,bottom:0};
    function updateBounds(){
      const header = document.querySelector('header');
      const hb = header ? header.getBoundingClientRect().bottom : 80;
      bounds.left = -40; bounds.right = window.innerWidth + 40;
      bounds.top = hb + 12; bounds.bottom = window.innerHeight + 40;
    }
    updateBounds();

    for(let i=0;i<count;i++){
      const el = document.createElement('span');
      el.className = 'float-word';
      el.textContent = words[i % words.length];
      container.appendChild(el);
      const w = el.offsetWidth || 120; const h = el.offsetHeight || 28;
      const x = Math.random()*(bounds.right - bounds.left - w) + bounds.left;
      const y = Math.random()*(bounds.bottom - bounds.top - h) + bounds.top;
      const speed = 16 + Math.random()*10;
      const bases = [45,135,225,315].map(d=>d*Math.PI/180);
      let angle = bases[Math.floor(Math.random()*bases.length)] + (Math.random()*(Math.PI/18) - (Math.PI/36));
      const vx = Math.cos(angle)*speed; const vy = Math.sin(angle)*speed;
      const rot = (Math.random()<0.5?-1:1) * (18 + Math.random()*10);
      const rotSpeed = (Math.random()<0.5?-1:1) * (2 + Math.random()*4);
      const timeScale = 0.9 + Math.random()*0.4;
      const noiseA = 3 + Math.random()*4;
      const noiseF = 0.4 + Math.random()*0.8;
      const noiseP = Math.random()*Math.PI*2;
      el.style.transform = `translate(${x}px, ${y}px) rotate(${rot}deg)`;
      floats.push({el,x,y,w,h,vx,vy,rot,rotSpeed,timeScale,noiseA,noiseF,noiseP});
    }

    let last = performance.now();
    function tick(now){
      const dt = Math.min(0.05, (now - last) / 1000); last = now;
      const tsec = now/1000;
      for(const f of floats){
        const local = dt * f.timeScale;
        const vx = f.vx + Math.cos(tsec*f.noiseF + f.noiseP)*f.noiseA;
        const vy = f.vy + Math.sin(tsec*f.noiseF + f.noiseP)*f.noiseA;
        f.x += vx * local; f.y += vy * local;
        if(f.x <= bounds.left || f.x + f.w >= bounds.right){ f.vx *= -1; f.x = Math.min(Math.max(f.x, bounds.left), bounds.right - f.w); }
        if(f.y <= bounds.top  || f.y + f.h >= bounds.bottom){ f.vy *= -1; f.y = Math.min(Math.max(f.y, bounds.top), bounds.bottom - f.h); }
        f.rot += f.rotSpeed * local;
        f.el.style.transform = `translate(${f.x}px, ${f.y}px) rotate(${f.rot}deg)`;
      }
      requestAnimationFrame(tick);
    }
    requestAnimationFrame(tick);
    window.addEventListener('resize', updateBounds);
    window.addEventListener('hashchange', updateBounds);
  }

  function initSparkles(){
    const prev = document.getElementById('sparkles'); if(prev) prev.remove();
    const c = document.createElement('div'); c.id = 'sparkles'; document.body.appendChild(c);
    const n = 110;
    for(let i=0;i<n;i++){
      const s = document.createElement('span'); s.className='sp';
      const size = 2 + Math.random()*3; s.style.width = size+'px'; s.style.height = size+'px';
      s.style.left = (Math.random()*100).toFixed(3)+'%'; s.style.top = (Math.random()*100).toFixed(3)+'%';
      const dur = 5 + Math.random()*7; const drift = 12 + Math.random()*28;
      const ang = Math.random()*Math.PI*2; const dx = Math.cos(ang)*drift; const dy = Math.sin(ang)*drift;
      s.style.setProperty('--dx', dx.toFixed(2)+'px'); s.style.setProperty('--dy', dy.toFixed(2)+'px');
      const d1 = (-Math.random()*dur).toFixed(2)+'s'; const d2 = (-Math.random()*dur).toFixed(2)+'s';
      s.style.animation = `sparkleBlink ${dur.toFixed(2)}s ease-in-out ${d1} infinite alternate, sparkleDrift ${(dur*1.2).toFixed(2)}s linear ${d2} infinite alternate, sparkleShine ${(dur*0.8).toFixed(2)}s ease-in-out ${d1} infinite alternate`;
      c.appendChild(s);
    }
    window.addEventListener('resize', () => { initSparkles(); }, { once:true });
  }

  document.addEventListener('DOMContentLoaded', () => {
    buildGallery(); handleRoute(); initNavInstant(); initFloatWords(); initSparkles();
  });
  window.addEventListener('hashchange', handleRoute);
  </script>
</body>
</html>
